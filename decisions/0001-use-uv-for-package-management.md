# uv によるパッケージ管理の採用

- **日付**: 2025-02-22
- **ステータス**: 採用

## 背景

Python プロジェクトのパッケージ管理ツールとして、従来は pip + requirements.txt を使用していた。依存関係の解決速度やロックファイルの管理、仮想環境の扱いに改善の余地があった。

## 選択肢

1. **pip + requirements.txt** — Python 標準のパッケージ管理。広く使われているが、ロックファイルの生成やパッケージ解決が遅い。
2. **Poetry** — pyproject.toml ベースの管理ツール。依存解決やロックファイルを標準サポートするが、動作が遅い場面がある。
3. **uv** — Rust 製の高速パッケージマネージャ。pip 互換の CLI を持ちつつ、依存解決・インストールが非常に高速。pyproject.toml + uv.lock によるモダンな管理が可能。

## 決定

**uv** を採用する。理由:

- 依存解決・インストール速度が pip や Poetry と比較して圧倒的に速い
- `pyproject.toml` + `uv.lock` によるモダンなパッケージ管理が可能
- pip 互換の CLI を持つため学習コストが低い
- `uv run` で仮想環境の自動管理ができ、開発体験が良い

## 結果・影響

- `requirements.txt` を廃止し、`pyproject.toml` で依存関係を管理する
- `uv.lock` をリポジトリにコミットし、再現可能なビルドを保証する
- Makefile のセットアップターゲットを uv ベースに変更する
- 開発者は `uv` のインストールが必要になる
